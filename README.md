# ECLF-SPEC / Классификатор эмоций по транскрибированному тексту
## Структура файлов
ptrBase.py - Файл с базовой моделью различающая 5 эмоций, Very Negativ, Negativ, Neutral, Positive, Very Positive
ptrCustom.py - Файл с кастомной моделью различает два флага Red Light и Green Light
requirements.txt - Файл с необходимыми пакетами для запуска файлов
## Инструкция по запуску/тестированию
1) Установите python
2) Выполните комманду pip install -r /path/to/requirements.txt
3) подайте необходимый текст в переменную texts или передайте результат транскрибации из API в формате словаря внутрь переменной api_base/api_custom
4) результат будет возвращен в формате обновлённого словаря 
## Техническая документация (prtCustom)
Функция predict_sentiment_custom(texts):
 - на вход данной функции должен поступать текст в формате одномерного массива ["вот ваш заказ"] (в списке может находиться любое количество элементов)
 - текст превращается в тензор и поступает в модель, в результате модели мы получаем переменную probabilities в которой храниться тензор из 5 елементов
 - с помощью условия суммируют 0 и 1 елемент тезора, и если их сумма >= 0.65 возвращается Red Light если нет - Green Light
Функция make_flags(api_input)
 - на вход данной функции поступает словарь из транскрибированного аудио
 - из транскрибированного аудио отбирается только текст
 - текст передается в функцию predict_sentiment_custom её результат сохраняется в переменную emotion
 - переменная emotion используются для обновления ключа "emotions" из словаря
 - на выходе программа возращает обновленный словарь
from inputs_like_api import copy
 - Это заранее подготовленный файл с трансрибацией текста приведенный в формат словаря
 - метод copy - возвращает сам словарь
## Техническая документация (prtBase)
Функция predict_sentiment_base(texts):
 - на вход данной функции должен поступать текст в формате одномерного массива ["вот ваш заказ"] (в списке может находиться любое количество элементов)
 - текст превращается в тензор и поступает в модель, в результате модели мы получаем переменную probabilities в которой храниться тензор из 5 елементов
 - результаты модели округляются до 2-х знаков после запятой и сохраняются в переменную формата словарь sentiment_map с ключами Very Negativ, Negativ, Neutral, Positive, Very Positive
 - выход функции возвращает словарь
Функция make_flags(api_input)
 - на вход данной функции поступает словарь из транскрибированного аудио
 - из транскрибированного аудио отбирается только текст
 - текст передается в функцию predict_sentiment_base её результат сохраняется в переменную emotion
 - переменная emotion используются для обновления ключа "emotions" из словаря
 - на выходе программа возращает обновленный словарь
from inputs_like_api import copy
 - Это заранее подготовленный файл с трансрибацией текста приведенный в формат словаря
 - метод copy - возвращает сам словарь
